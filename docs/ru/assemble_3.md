# Сборка Клевера 3

В данной инструкции рассматривается сборка комплекта COEX Clover 3 с платой регуляторов 4в1.

![Клевер 3](../assets/clever3_main.jpg)

> **Caution** Перед использованием паяльного оборудования обязательно ознакомьтесь с [техникой безопасности при пайке](safety.md).

<!--
## Состав конструктора

TODO
-->

## Дополнительное оборудование

![Дополнительное оборудование](../assets/additonal_eqipment.jpg)

## Условные обозначения

![Условные обозначения](../assets/conditional_refer.jpg)

## Установка моторов

1. Распаковать моторы.
2. Закрепить мотор на луче шестигранными винтами М3х6 (самые короткие винты в комплекте с моторами).

    Шестигранный ключ в комплекте.

3. Вставить гайки М3 (4 шт) в пластиковый держатель.

    Для удобства можно использовать длинный винт, либо плоскогубцы

4. Закрепить луч, нижнюю защиту луча и держатель винтами М3х12, используя крестовую отвертку.
5. Скрепить хомутом луч и нижнюю защиту луча.

    Хвост от хомута (стяжки) отрезать ножницами.

    ![Подготовка моторов](../assets/cl3_prepareMotors.JPG)

## Монтаж каркасных элементов

1. Установить пластиковые гайки М3 (4 шт) для крепления PDB на раму винтами М3х8.
2. Установить стойки 6 мм (4 шт) для крепления Raspberry Pi на раму винтами М3х8.
3. Установить на раму собранную конструкцию, соблюдая схему, винтами М3х16.
4. Установить каркас для светодиодной ленты, используя прорези в держателях для ножек.

![Монтаж стоек на раму](../assets/cl3_mountElements.JPG)

## Монтаж преобразователя напряжения BEC (припаять и проверить)

1. Распаковать плату питания и установить шлейф питания.
2. Включить мультиметр в режим измерения постоянного напряжения (диапазон 20В или 200В).
3. Проверить работоспособность платы питания, подключив АКБ
    * Выходное напряжение на разъеме XT30 должно равняться напряжению на АКБ (от 10В до 12.6В).
    * Выходное напряжение на шлейфе питания должно быть в пределах 4.9В до 5.3В.
    * Измеряем между черным и красным проводами.
4. Распаковывать преобразователь напряжения и снимаем прозрачную изоляцию.
5. Припаять два дополнительных провода на BEC
    * Взять из набора 3 провода папа-мама (красный, черный и любого цвета)
    * Красный и черный [залудить](tinning.md) с обеих сторон, используя пинцет. На синем проводе залудить со стороны коннектора ПАПА.

        Залудить - это:
        * Нанести флюс на оголенную часть провода.
        * Покрыть припоем.

    * Припаять красный и черный провода к BEC:

            ЧЕРНЫЙ -> OUT-
            КРАСНЫЙ -> OUT+

6. Проверить работу BEC.
    * Припаять BEC на плату питания:

            ЧЕРНЫЙ -> -
            КРАСНЫЙ -> +

    * Подключить АКБ и проверяем напряжение на припаянных проводах к BEC (из пункта 5).

        5В - все правильно!

        больше 10В - отключите питание и переставьте желтую перемычку на другой пинцет.

        0В - плохо спаяли.
    * Если BEC выдает 5В, то изолируем паячное соединение черной термоусадкой.
7. Монтаж светодиодной ленты.

    * Припаять провода от BEC (из пункта 5) к светодиодной ленте.
    * Удалить силиконовый слой на ленте (надрезать ножом и оторвать).
    * [Залудить](tinning.md) контакты светодиодной ленты.

            Красный -> +5V
            Черный ->  GND
            Синий -> Din

![Монтаж преобразователя напряжения BEC ](../assets/cl3_mountBEC.JPG)

## Монтаж регуляторов

### Монтаж 4 отдельных регуляторов

#### Залудить три контактные площадки регулятора

* Нанести флюс
* Нанести припой

Чтобы припой аккуратно заполнил всю площадку, необходимо прогреть площадку регулятора. Для этого нужно удерживать жало паяльника на контактной площадке в течение 2 сек (или больше, если потребуется)

![Лужение контактных площадок регуляторов](../assets/escDYSzap.png)

* Повторить данную операцию для оставшихся трех регуляторов

#### Припаять провода моторов к регуляторам

Припаять ранее приготовленные провода моторов к контактным площадкам регуляторов.

![Припаять провода моторов к регуляторам](../assets/solderingBrrc2205ondeckTOescDYSzap.png)

* Повторить данную операцию для оставшихся трех регуляторов

### Монтаж платы регуляторов 4в1 и платы питания PDB

1. Установить плату регуляторов 4в1, как показано на картинке.

    Соединить фазные провода моторов с проводами регуляторов.

2. Закрепить плату регуляторов стойками 6 мм (4 шт.).

    На стойки накрутить пластиковые гайки М3 (4 шт.).

3. Установить плату распределения питания PDB, как показано на картинке (разъем XT60 направлен к хвосту коптера).
4. Соединить разъемы питания платы питания и платы регуляторов XT30.

 ![Монтаж платы питания](../assets/cl3_mountESC.JPG)

## Сопряжение приемника и пульта

1. Подключить провод 5В от BEC в разъем приемника.

    Установить BIND разъем в крайний правый порт B/VCC.

2. Подключить АКБ. Индикатор на приемники должен быстро мигать (режим сброса).
3. Зажать и удерживать кнопку BIND на пульте и включаем пульт.

    На пульте отображается процесс сопряжения RXBinding

4. После установки сопряжения (появление допю строк на дисплее пульта):
    * Убрать BIND разъем из приемника.
    * Отключить АКБ.

![Сопряжение приемника и пульта](../assets/cl3_bindFlysky.JPG)

> **Hint** Если пульт не включается или заблокирован, см.
статью [неисправности пульта](radioerrors.md).

## Проверка направления вращения моторов

1. Включить пульт.

    Убедиться, что PPM в меню RX Setup отключен ([раздел "Нет связи с полетным контроллером"](radioerrors.md))

    В пункте 3 выберите “RX setup” > “PPM OUTPUT” > “Off”.

    Сохраните изменения (удерживаем нажатой кнопку “CANCEL”).

2. Подключить оранжевый провод S1 от платы регуляторов в CH3 на приемнике. Подключить внешнее питание.
3. Подать левым стиком газ (throttle) на 10%.
4. Проверить направления вращения мотора по схеме.Повторить для каждого мотора. Таким образом, будет понятно каким именно мотором мы управляем.
5. Если необходимо изменить направление вращения, то меняем любые два фазных провода мотора (нужно переподключить).

![Проверка направления вращения моторов](../assets/cl3_testMotorsFlysky.JPG)

## Монтаж и подключение полетного контроллера Pixracer

1. Установить Полетный контроллер Pixracer на двухсторонний скотч 3М (2-3 слоя).
    Также полетный контроллер можно извлечь из корпуса и жестко установить на стойке М3х6.

2. Установить стойки 40 мм, используя винты М3х8.

    Подключить разъем POWER.

3. Подключить регуляторы, как на картинке.

    Подробно [про подключение регуляторов 4в1](4in1.md).

4. Подключить шлейф радиоприемника в разъем RCIN в Pixracer.

![Монтаж полетного контроллера](../assets/cl3_mountPixracer.JPG)

## Монтаж Raspberry

1. Перевернуть коптер.

    Установить Raspberry на стойки, используя монтажные отверстия Raspberry.

    USB-разъемы направлены к хвостовой части коптера.

2. Установка шлейфа для камеры:
    * поднять защелку;
    * подключить шлейф;
    * закрыть защелку.
3. Подключение питания Raspberry:

        5В -> pin 04 (DC power 5v)
        GND -> pin 06 (Ground)
        Подключение светодиодной ленты pin 40 (GPIO21)

4. Сборка маунта для камеры RPi.

    Используйте винт М3х16 и гайку М3

![Монтаж Raspberry Pi Model B](../assets/cl3_mountRaspberryPi.JPG)

## Монтаж Arduino и радиоприемника FlySky

1. Произвести монтаж пинов микроконтроллера Arduino Nano, используя пайку.
2. Установить микроконтроллер в специальной маунт и прикрепите к нижней деке, используя винты М3х16 (4 шт.).
3. Используя двухсторонний скотч, прикрепить приемник, как показано на рисунке.
4. Подключить шлейф радиоприемника от Pixracer как на рисунке.

        белый -> PPM
        красный -> 5V
        черный -> GND
        оранжевый, зеленый -> не используются. Выньте эти провода из разъёма или обрежьте их.

![Монтаж Arduino nano и радиоприемника Flysky i6](../assets/cl3_mountArduinoandFlysky.JPG)

## Монтаж камеры RPi

1. Установить маунт для камеры RPi в сборе на нижнюю деку винтами М3х12 (2 шт.).
2. Подключить шлейф к камере RPi.
3. Установить камеру в маунт, закрепить саморезами М2.
4. Закрепить Raspberry стойками 30 мм (4 шт.).

    Установить нижнюю деку в сборе на стойки винтами М3х8 (4шт.)

5. Установить ножки в маунты (4 шт.).

![Монтаж камеры RPi](../assets/cl3_mountRpiCamera.JPG)

## Монтаж остальных конструктивных элементов

1. Установить нижней защиты, используя винты М3х12 (8 шт.) и стойки 30 мм (8 шт.).
2. Установить верхней защиты, используя винты М3х12 (8 шт.).
3. Установить ремешок в верхнюю деку для фиксации АКБ.

    Закрепить верхнюю деку винтами М3х8 (4 шт.)

![Монтаж остальных конструктивных элементов](../assets/cl3_mountOtherElements.JPG)

## Монтаж USB соединителей

1. Соедините Pixracer и Raspberry, используя micro USB - USB кабель.
2. Соедините Arduino и Raspberry, используя micro USB - USB кабель.

![Монтаж USB соединителей](../assets/cl3_mountUSBconnectors.JPG).

Подробнее про подключение см. [статью](connection.md).
